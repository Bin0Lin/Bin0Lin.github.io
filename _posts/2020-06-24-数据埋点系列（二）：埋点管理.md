---
layout: post
title:  "数据埋点系列（二）：埋点管理"
date:   2020-06-24
categories:
    - 数据科学
tags:
    - 埋点
---

埋点整个生命周期的环节比较多，包括埋点需求提交、埋点设计、埋点开发、埋点测试、埋点下线等，涉及业务部门、产品经理、数据产品经理、业务开发、数据开发、测试等团队的协同合作。每个埋点需要记录的信息又是非常细且繁琐的。这就要求需要对埋点的元数据进行统一的管理。  

事件是埋点的基本单位。对于每个事件，我们需要记录五个要素4W1H：  
- WHO（用户）  
- WHEN（发生的时间）  
- WHERE（发生的位置）  
- HOW（上报的时机）  
- WHAT（事件的内容）  
   
 对于事件的管理，涉及事件定义、属性变量、变量值、上报时机、埋点位置、版本号等一系列的信息。具体可参考表格：
   
|事件编号|事件变量|事件名称|事件定义|上报时机|属性变量|属性名称|属性定义|属性值类型|版本号|上线状态|所属平台|一级模块|二级模块|三级模块|  
|------|------|------|------|------|------|------|------|------|------|------|------|------|------|------|  
|No.1|UserLoginIn|用户登录|用户访问小程序且进行了授权|小程序页面打开渲染完成后|UserID|用户ID|登录用户的ID|字符串|V1.0.1|已上线|微信小程序|首页| | |  
|No.2| | | | | | | | | | | | | | | |  
|No.3| | | | | | | | | | | | | | | | 
  
- 事件变量和属性变量的命名统一采用驼峰命名法；  
- 上报时机包括：点击、进入页面、离开页面、加载页面、卸载页面、刷新、启动登录、切换后台、切换前端、分享、切换Tab页等；  
- 属性值类型包括：整数、浮点数、金额、字符串、布尔值等；  
- 所属平台包括：APP客户端、小程序客户端、网页客户端等；  
- 上线状态包括：开发中、测试中、已上线、已下线；  
- 一级、二级、三级模块用于定位埋点的具体位置；  
  
由于埋点受版本的前端变化影响比较大，在前端页面发生变化后也要考虑涉及的埋点的更新迭代。在每个版本发布时都会对埋点需求进行更新，同时也需要更新埋点的管理表格，保存每个版本的快照，这样可以有效地找到每一个版本的埋点情况，方便发生问题是进行溯源。


